# PROMPT: Fix Money Quiz Plugin - Make It Actually Work

## Context
The Money Quiz plugin has a modern architecture skeleton that's completely disconnected from reality. We need to fix this step by step, ensuring each change results in WORKING CODE that maintains existing functionality.

## Priority Order (Start with what matters most):

### Phase 1: Make the Basic Architecture Work (Week 1)
1. **Fix composer.json with ONLY essential dependencies**
   - Add autoload configuration
   - Skip GraphQL, Swoole, MongoDB, gRPC, Kafka for now
   - Run `composer install` and verify vendor directory exists

2. **Connect new code to legacy**
   - Make money-quiz.php successfully load the new Plugin class
   - Ensure legacy functionality continues working
   - Add fallback mechanisms for smooth transition

3. **Implement missing CRITICAL classes only**
   - Focus on classes actually referenced by Plugin.php
   - Skip microservices, GraphQL, advanced features
   - Make sure basic plugin lifecycle works

### Phase 2: Incremental Migration (Week 2)
4. **Migrate ONE feature at a time**
   - Start with the simplest feature (e.g., settings)
   - Ensure it works completely before moving on
   - Keep legacy code as fallback

5. **Add basic caching (WordPress transients first)**
   - Skip Redis for now
   - Use WordPress built-in caching
   - Prove it improves performance

6. **Implement CSRF in ONE form first**
   - Pick the most critical form
   - Use the existing CsrfManager
   - Verify it actually protects the form

### Phase 3: Testing & Validation (Week 3)
7. **Write tests for what exists**
   - Unit tests for critical functions
   - Integration tests for user workflows
   - Measure actual performance improvements

8. **Document what ACTUALLY works**
   - Remove all false claims
   - Document only implemented features
   - Create honest progress tracking

## Success Criteria
- Plugin must not break existing sites
- Each feature must be fully functional before claiming completion
- Performance must be measurably better
- Security improvements must be demonstrable
- No "architectural astronaut" code - if it doesn't run, delete it

## What NOT to Do
- Don't implement GraphQL until basic plugin works
- Don't add microservices until monolith is solid
- Don't claim features work without testing
- Don't add complexity before basics are proven

## Deliverables for Each Step
1. Screenshot/proof of working code
2. Test results showing functionality
3. Performance metrics (before/after)
4. Security audit results
5. User-facing documentation

## Remember
- Working ugly code > Beautiful broken code
- One working feature > Ten planned features
- Honest 15% progress > Fabricated 78% progress
- Real users need real functionality, not promises